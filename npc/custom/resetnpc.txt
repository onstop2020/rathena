//===== rAthena Script =======================================
//= Reset NPC
//===== Description: =========================================
//= Resets skills, stats, or both.
//===== Additional Comments: =================================
//= 1.0 First Version
//= 1.1 Optimized for the greater good. [Kisuka]
//= 1.2 Cleaning [Euphy]
//= 1.3 All statuses removed upon skill reset. [Euphy]
//= 1.4 Compressed Script, Added limit use option [Stolao]
//=	Changed set -> setarray, Improved text with F_InsertPlural
//= 1.5 Added sc_end_class to reset related status changes [sader1992]
//============================================================

prontera,37,177,5	script	แซสซี่	10369,{
	// Skills,Stats,Both,Limit
	setarray .@prices,5000000,5000000,7000000;
	mes "Reset Skills: ^BA17F8" + callfunc("F_InsertComma",.@prices[0]) + "z^000000";
	mes "Reset Stats: ^BA17F8" + callfunc("F_InsertComma",.@prices[1]) + "z^000000";
	mes "Reset ทั้งคู่: ^BA17F8" + callfunc("F_InsertComma",.@prices[2]) + "z^000000";
	next;
	.@i = select("^FF3355Reset Skills:Reset Stats:Reset ทั้งคู่^000000:ยกเลิก");
	
	if(.@i > 3)
	close;
	
	if (Zeny < .@prices[.@i - 1]) {
		mes "Zeny ไม่เพียงพอ";
		close;
	}
	
	Zeny -= .@prices[.@i - 1];
	
	if(.@i & 1){
		sc_end_class;
		ResetSkill;
	}
	
	if(.@i & 2){
		ResetStatus;
		
		if(trpoint > 0)
		atcommand "@trpoint +" + trpoint;
	}
	
	
	mes "เรียบร้อยแล้ว!";
	
	close;
	
OnInit:
	waitingroom "Reset",0;
	end;
}
